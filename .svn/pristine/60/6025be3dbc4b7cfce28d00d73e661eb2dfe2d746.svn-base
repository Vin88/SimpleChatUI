"use strict";app.factory("resInerceptor",["$q","$injector","$sessionStorage","ENV","commonSvc",function(a,b,c,d,e){var f={response:function(f){var g=document.location.protocol,h=document.location.hostname,i=document.location.port;i&&(h=h+":"+i);var j=document.location.pathname,k=g+"//"+h+j;if(f.config.url.substring(0,d.apiUrl.length)===d.apiUrl&&f.config.skipAuthorization!==!0){var l=b.get("$uibModal");if("object"==typeof f.data){var m=!1;f.data.statusMsg&&"E"===f.data.statusCode.substring(0,1)&&(m=!0);var n=b.get("$http");n.pendingRequests.length<1&&(loaderstop(),m&&(e.errorMessage="Error.Internal",l.open({templateUrl:"assets/views/dialog.html",controller:"dialogController",size:"sm"})))}}var n=b.get("$http");return n.pendingRequests.length<1&&loaderstop(),k==f.config.url&&f.headers("X-Custom-User-ID")&&(c.R1ID=f.headers("X-Custom-User-ID")),a.resolve(f)},responseError:function(c){var d=(new Date).getTime()-c.config.reqStartTime;if(d>=c.config.timeout)var f=!0;var g=b.get("$uibModal"),h=b.get("$http");return h.pendingRequests.length<1&&(loaderstop(),f?(e.errorMessage="Error.Timeout",g.open({templateUrl:"assets/views/dialog.html",controller:"dialogController",size:"sm"})):(e.errorMessage="Error.Server",g.open({templateUrl:"assets/views/dialog.html",controller:"dialogController",size:"sm"}))),a.reject(c)}};return f}]),app.config(["$httpProvider",function(a){a.interceptors.push("resInerceptor")}]);